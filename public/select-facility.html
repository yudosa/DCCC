<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ìš©ì‹œì„¤ ì„ íƒ - í¥ë•ì²­ì†Œë…„ ë¬¸í™”ì˜ì§‘</title>
    <link rel="stylesheet" href="styles.css">
    <script type="module" src="firebase-config.js"></script>
</head>
<body>
    <div class="container vertical-layout">
        <!-- ìƒë‹¨ ë°°ë„ˆ ì„¹ì…˜ -->
        <div class="banner-section">
            <div class="current-datetime"></div>
            <div class="banner-image">
                <div class="image-slider">
                    <img src="dc1.jpg" alt="ë™ì²œì²­ì†Œë…„ ë¬¸í™”ì˜ì§‘ ê±´ë¬¼" class="main-building-img active">
                    <img src="dc2.jpg" alt="ë™ì²œì²­ì†Œë…„ ë¬¸í™”ì˜ì§‘ ê±´ë¬¼" class="main-building-img">
                    <img src="dc3.jpg" alt="ë™ì²œì²­ì†Œë…„ ë¬¸í™”ì˜ì§‘ ê±´ë¬¼" class="main-building-img">
                    <img src="dc4.jpg" alt="ë™ì²œì²­ì†Œë…„ ë¬¸í™”ì˜ì§‘ ê±´ë¬¼" class="main-building-img">
                    <img src="dc5.jpg" alt="ë™ì²œì²­ì†Œë…„ ë¬¸í™”ì˜ì§‘ ê±´ë¬¼" class="main-building-img">
                    <img src="dc6.jpg" alt="ë™ì²œì²­ì†Œë…„ ë¬¸í™”ì˜ì§‘ ê±´ë¬¼" class="main-building-img">
                    <img src="dc7.jpg" alt="ë™ì²œì²­ì†Œë…„ ë¬¸í™”ì˜ì§‘ ê±´ë¬¼" class="main-building-img">
                    <img src="dc8.jpg" alt="ë™ì²œì²­ì†Œë…„ ë¬¸í™”ì˜ì§‘ ê±´ë¬¼" class="main-building-img">
                </div>
                </div>
                <div class="slider-dots">
                    <span class="dot active"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                </div>
            </div>
        </div>
        
        <main class="rental-main">
            <div class="facility-selection-header">
                <h2>ì´ìš©í•œ ê³µê°„ì„ ì„ íƒí•˜ì„¸ìš”</h2>
            </div>
            
            <!-- 3ì¸µ -->
            <div class="floor-section">
                <div class="floor-label">3ì¸µ</div>
                <div class="facility-group">
                    <div class="facility-cards-row">
                        <div class="facility-card" onclick="window.location.href='reservation-date.html'">
                            <div class="facility-emoji">ğŸ’ƒ</div>
                            <div class="facility-name">ëŒ„ìŠ¤ì—°ìŠµì‹¤</div>
                        </div>
                        <div class="facility-card" onclick="window.location.href='reservation-date.html'">
                            <div class="facility-emoji">ğŸ¢</div>
                            <div class="facility-name">ì†ŒíšŒì˜ì‹¤</div>
                        </div>
                    </div>
                    <div class="autonomous-section">
                        <div class="autonomous-label">ììœ¨ì´ìš©</div>
                        <div class="facility-cards-row autonomous-row">
                            <div class="facility-card autonomous-card" id="autonomousCard">
                                <div class="facility-emoji">ğŸ“š</div>
                                <div class="facility-name">ììœ¨ì´ìš©<br>(ì˜ˆì•½ ë¶ˆí•„ìš”)</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2ì¸µ -->
            <div class="floor-section">
                <div class="floor-label">2ì¸µ</div>
                <div class="facility-group">
                    <div class="facility-cards-row">
                        <div class="facility-card" onclick="window.location.href='reservation-date.html'">
                            <div class="facility-emoji">ğŸ®</div>
                            <div class="facility-name">ë‹Œí…ë„</div>
                        </div>
                        <div class="facility-card" onclick="window.location.href='reservation-date.html'">
                            <div class="facility-emoji">ğŸ¯</div>
                            <div class="facility-name">PS5</div>
                        </div>
                    </div>
                    <div class="facility-cards-row">
                        <div class="facility-card" onclick="window.location.href='reservation-date.html'">
                            <div class="facility-emoji">ğŸ¤</div>
                            <div class="facility-name">ë…¸ë˜ë°©</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-actions-centered">
                <button class="btn-secondary-centered facility-back-btn" onclick="window.location.href='index.html'">â—€ ì´ì „</button>
                <button class="btn-secondary-centered facility-home-btn" onclick="sessionStorage.removeItem('agreedPersonalInfo'); window.location.href='index.html'">â†» ì²˜ìŒìœ¼ë¡œ</button>
            </div>
        </main>
    </div>

    <script>
    // ì‹œì„¤ ì¹´ë“œ í´ë¦­ ì‹œ ì‹œì„¤ëª… ì €ì¥ (ììœ¨ì´ìš© ì œì™¸)
    document.querySelectorAll('.facility-card:not(#autonomousCard)').forEach(card => {
        card.addEventListener('click', function() {
            let name = card.querySelector('.facility-name').textContent.trim();
            sessionStorage.setItem('selectedFacility', name);
            window.location.href = 'reservation-date.html';
        });
    });

    // ììœ¨ì´ìš© ì¹´ë“œ í´ë¦­ ì´ë²¤íŠ¸ëŠ” DOMContentLoadedì—ì„œ ì„¤ì •

    window.showAutonomousUseModal = function() {
        console.log('ììœ¨ì´ìš© ëª¨ë‹¬ í•¨ìˆ˜ í˜¸ì¶œë¨');
        
        // ê¸°ì¡´ ëª¨ë‹¬ì´ ìˆë‹¤ë©´ ì œê±°
        const existingModal = document.querySelector('.custom-modal-bg');
        if (existingModal) {
            existingModal.remove();
        }
        
        let modal = document.createElement('div');
        modal.className = 'custom-modal-bg';
        modal.innerHTML = `
            <div class="custom-modal" style="max-width: 500px;">
                <div class="custom-modal-header">
                    <h3>ììœ¨ì´ìš© ì•ˆë‚´</h3>
                    <button class="custom-modal-close" onclick="this.closest('.custom-modal-bg').remove()">Ã—</button>
                </div>
                <div class="custom-modal-body">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <div style="font-size: 3rem; margin-bottom: 15px;">ğŸ“š</div>
                        <h4 style="color: #2c3e50; margin-bottom: 15px;">ììœ¨ì´ìš© ê³µê°„</h4>
                        <p style="color: #7f8c8d; line-height: 1.6; margin-bottom: 20px;">
                            ììœ¨ì´ìš© ê³µê°„ì€ ì˜ˆì•½ ì—†ì´ ììœ ë¡­ê²Œ ì´ìš©í•  ìˆ˜ ìˆëŠ” ê³µê°„ì…ë‹ˆë‹¤.<br>
                            ì–¸ì œë“ ì§€ ë°©ë¬¸í•˜ì—¬ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        </p>
                        <div style="background: #ecf0f1; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                            <h5 style="color: #2c3e50; margin-bottom: 10px;">ğŸ“‹ ì´ìš© ì•ˆë‚´</h5>
                            <ul style="text-align: left; color: #7f8c8d; line-height: 1.8;">
                                <li>ì˜ˆì•½ ì—†ì´ ììœ ë¡­ê²Œ ì´ìš© ê°€ëŠ¥</li>
                                <li>ì´ìš© ì‹œê°„ ì œí•œ ì—†ìŒ</li>
                                <li>ë‹¤ë¥¸ ì´ìš©ìì™€ í•¨ê»˜ ê³µìœ í•˜ì—¬ ì‚¬ìš©</li>
                                <li>ì´ìš© í›„ ì •ë¦¬ì •ëˆ í•„ìˆ˜</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="custom-modal-footer">
                    <button class="btn-primary" onclick="this.closest('.custom-modal-bg').remove()">í™•ì¸</button>
                </div>
            </div>
        `;
        
        document.body.appendChild(modal);
        
        // ëª¨ë‹¬ ë°°ê²½ í´ë¦­ ì‹œ ë‹«ê¸°
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                modal.remove();
            }
        });
    };

    // DOMì´ ë¡œë“œëœ í›„ ììœ¨ì´ìš© ì¹´ë“œ í´ë¦­ ì´ë²¤íŠ¸ ì„¤ì •
    document.addEventListener('DOMContentLoaded', function() {
        const autonomousCard = document.getElementById('autonomousCard');
        if (autonomousCard) {
            autonomousCard.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                showAutonomousUseModal();
            });
        }
    });

    // í˜„ì¬ ì‹œê°„ í‘œì‹œ
    function updateDateTime() {
        const now = new Date();
        const year = now.getFullYear();
        const month = String(now.getMonth() + 1).padStart(2, '0');
        const day = String(now.getDate()).padStart(2, '0');
        const hours = String(now.getHours()).padStart(2, '0');
        const minutes = String(now.getMinutes()).padStart(2, '0');
        const seconds = String(now.getSeconds()).padStart(2, '0');
        
        const weekdays = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
        const weekday = weekdays[now.getDay()];
        
        const dateTimeElement = document.querySelector('.current-datetime');
        if (dateTimeElement) {
            dateTimeElement.innerHTML = `
                <div class="datetime-info">
                    <span class="date">${year}-${month}-${day} (${weekday})</span>
                    <span class="time">${hours}:${minutes}:${seconds}</span>
                </div>
            `;
        }
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹œê°„ í‘œì‹œ ë° ì£¼ê¸°ì  ì—…ë°ì´íŠ¸
    updateDateTime();
    setInterval(updateDateTime, 1000);

    // ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë”
    let currentImageIndex = 0;
    const images = document.querySelectorAll('.main-building-img');
    const dots = document.querySelectorAll('.dot');

    function showImage(index) {
        images.forEach((img, i) => {
            img.classList.toggle('active', i === index);
        });
        dots.forEach((dot, i) => {
            dot.classList.toggle('active', i === index);
        });
    }

    function nextImage() {
        currentImageIndex = (currentImageIndex + 1) % images.length;
        showImage(currentImageIndex);
    }

    // ìë™ ìŠ¬ë¼ì´ë” ì‹œì‘
    setInterval(nextImage, 3000);

    // ë„íŠ¸ í´ë¦­ ì´ë²¤íŠ¸
    dots.forEach((dot, index) => {
        dot.addEventListener('click', () => {
            currentImageIndex = index;
            showImage(currentImageIndex);
        });
    });
    </script>
</body>
</html>